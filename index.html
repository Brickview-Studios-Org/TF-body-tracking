<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>DragonBones Demo</title>

    <script src="./libs/pixi/pixi.js"></script>
    <script src="./libs/dragonBones/dragonBones.js"></script>

    <script src="./out/DragHelper.js"></script>
    <script src="./out/BaseDemo.js"></script>
    <script src="./out/HelloDragonBones.js"></script>
    <!-- <script src="./out/HelloDragonBonesCustomPosenet.js"></script> -->
    <script src="./out/HelloDragonBonesCustomV2.js"></script>
    <script src="./out/AnimationBase.js"></script>
    <script src="./out/DragonBonesEvent.js"></script>
    <script src="./out/AnimationLayer.js"></script>
    <script src="./out/BoneOffset.js"></script>
    <script src="./out/InverseKinematics.js"></script>
    <script src="./out/BoundingBox.js"></script>
    <script src="./out/MultiTextureAltas.js"></script>
    <script src="./out/ReplaceSlotDisplay.js"></script>
    <script src="./out/ReplaceSkin.js"></script>
    <script src="./out/ReplaceAnimation.js"></script>
    <script src="./out/CoreElement.js"></script>
    <script src="./out/EyeTracking.js"></script>
    <script src="./out/PerformanceTest.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/posenet"></script>
    <style>
        body {
          background-color: rgb(57, 182, 147); /* Set background color to black */
          color: white; /* Set text color to white */
          font-family: Arial, sans-serif; /* Optional: Set font family */
          border-color: blueviolet;
          border-width: 20rem;          
          width: 100%;
          height: 100%;
          position: relative;
            margin: 0px;
        }
      </style>

</head>

<body>
    <p id="windowWidth"></p>
    <p id="parentWidth"></p>
    
    <script>


        //new HelloDragonBones();
        // Make API call to retrieve data

         // Function to get query parameter from URL
         function getQueryParam(parameterName) {
            const queryString = window.location.search;
            const urlParams = new URLSearchParams(queryString);
            return urlParams.get(parameterName);
        }

        function parentWidth(elem) {
            return elem.parentElement.clientWidth;
        }

        // Usage example
        const productID = getQueryParam('productID');
        const skeJson = getQueryParam('skeJson');
        const texJson = getQueryParam('texJson');
        const texPng = getQueryParam('texPng');

        console.log('Product ID:', productID);
        console.log('SKE JSON URL:', skeJson);
        console.log('TEX JSON URL:', texJson);
        console.log('TEX PNG URL:', texPng);
        window.onload = function() {
    var windowWidth = window.innerWidth;
    var parentWidthSize = parentWidth(document.getElementById('parentWidth'));
    
    document.getElementById('windowWidth').innerText = "Browser Window Width: " + windowWidth;
    document.getElementById('parentWidth').innerText = "ParentWidth Window Width: " + parentWidthSize;
  };
        fetch("https://0zwhtezm4f.execute-api.ap-south-1.amazonaws.com/TryItFirst/mirror_product?productID="+productID)
            .then(response => {
                if (!response.ok) {
                    throw new Error("API request failed");
                }
                return response.json();
            })
            .then(data => {
                // Instantiate HelloDragonBonesCustom and pass retrieved data
                const helloDragonBonesCustomInstance = new HelloDragonBonesCustom(data);
            })
            .catch(error => {
                console.error("Error fetching API data:", error);
            });
        // new AnimationBase();
        // new DragonBonesEvent();
        // new AnimationLayer();
        // new BoneOffset();
         //new InverseKinematics();
        //new BoundingBox();
        // new MultiTextureAltas();
        // new ReplaceSlotDisplay();
        //new ReplaceSkin();
        // new ReplaceAnimation();
        // new coreElement.Game();
        //new EyeTracking();
        // new PerformanceTest();
    </script>
</body>

</html>
